{% extends '_layouts/cp' %}
{% import '_includes/forms' as forms %}

{% block content %}
	<form method="post" accept-charset="UTF-8" data-saveshortcut="1">
		{{ getCsrfInput() }}
		<input type="hidden" name="action" value="adWizard/savePosition">
		<input type="hidden" name="redirect" value="adwizard/positions">
		{% if position.id %}<input type="hidden" name="positionId" value="{{ position.id }}">{% endif %}

		{{ forms.textField({
			first: true,
			label: "Position Name"|t,
			instructions: "Define a group of ads."|t,
			placeholder: "ie: \"Header Banner\" or \"Right Sidebar\""|t,
			id: 'name',
			name: 'name',
			value: position.name,
			errors: position.getErrors('name'),
			autofocus: true,
			required: true,
			translatable: true
		}) }}

		{{ forms.textField({
			label: "Handle"|t,
			id: 'handle',
			class: 'code',
			name: 'handle',
			value: position.handle,
			errors: position.getErrors('handle'),
			required: true
		}) }}

		<hr>

		<div class="buttons">
			<input type="submit" class="btn submit" value="{{ 'Save'|t }}">
		</div>
	</form>
{% endblock %}

{% if not position.handle %}
	{%- includejs -%}
		new Craft.HandleGenerator('#name', '#handle');
	{%- endincludejs -%}
{% endif %}
